import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,a as e,d as i,e as l,o as r}from"./app-RDSFbjX4.js";const n="/assets/image-67-B49-7hUy.png",o="/assets/image-68-VIds8tNu.png",p="/assets/image-69-CK-JdGeQ.png",c="/assets/image-70-CSJwtGDy.png",m="/assets/image-71-CAo_QHTA.png",g="/assets/image-73-CUnXXNW9.png",d="/assets/image-74-lwZ3E8dE.png",_="/assets/image-75-DLj5Wm2S.png",h="/assets/image-76-CV2rRCaa.png",b="/assets/image-77-CG2TrMlG.png",S="/assets/image-80-rvRss3og.png",y="/assets/image-81-5gLhQ15Z.png",x="/assets/image-82-BWLRbAnD.png",f="/assets/image-83-C6It8bkU.png",u="/assets/image-84-BysOD3Yu.png",C="/assets/image-85-DzzkCTXp.png",T="/assets/image-86-MbV4Ks9Q.png",P="/assets/image-87-BmYdTw29.png",R="/assets/image-88-ScS1sIs0.png",z="/assets/image-89-DHdBiY8D.png",M="/assets/image-90-Ctyqs7Cn.png",O="/assets/image-91-DVZhWLUr.png",A="/assets/image-92-CKsPfLXw.png",D="/assets/image-93-Biryz0pP.png",E="/assets/image-94-DlmP3o2j.png",I="/assets/image-95-wVcD0kzI.png",B="/assets/image-96--PRfrMVT.png",v="/assets/image-97-C-XcLBB0.png",k="/assets/image-98-olpT5_SC.png",L="/assets/image-103-BBH8GwAv.png",N="/assets/image-100-BvD4xaA1.png",X="/assets/image-101-qemLeVqm.png",V={};function U(Z,t){return r(),s("div",null,[t[0]||(t[0]=e("h1",{id:"sap-外围系统调用外部restful接口",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#sap-外围系统调用外部restful接口"},[e("span",null,"SAP->外围系统调用外部RESTful接口")])],-1)),i(" more "),t[1]||(t[1]=l('<ul><li>进入 PO 集成引擎的消息必须是 XML（这是 PI/PO 内部统一的消息格式）。</li><li>但“外围系统→PO”这一段可以发 JSON、CSV、EDI、纯文本等，只要在 Sender 通道里选对适配器并开好 Content Conversion/JSON-to-XML 转换；PO 会在通道级别先转成 XML，再往后走。</li><li>因此：SAP 端通过 PO 接收到的永远是 XML，而外围系统不一定非得发 XML。<br> 事物代码 SXI_MONITOR XI:消息监控</li></ul><h2 id="_1-名词解释" tabindex="-1"><a class="header-anchor" href="#_1-名词解释"><span>1.名词解释</span></a></h2><p>Message Mapping-消息映射(简写MM)<br> Service Interfaces-服务接口(简写SI)<br> Operation Mapping-操作映射(简写OM)<br> External Definition-外部定义(简写ED)<br> DaTa Types-数据类型(简写DT)<br> Message Type-消息类型(简写MT)</p><p>Integrated Configuration-集成配置(简写IC)<br> Communication Channel-通信通道(简写CC)<br> Adapter Type-适配器类型(简写AT)<br> Business System-业务系统(简写BS)<br> Business ComPonent-业务组件(简写BC)</p><p>Enterprise Services Repository-企业服务仓库(简写ESR)<br> Integration Directory-集成目录(简写ID)</p><h2 id="_2-通信概览图" tabindex="-1"><a class="header-anchor" href="#_2-通信概览图"><span>2.通信概览图</span></a></h2><p><strong>个人整理所得，可能有误，欢迎指正</strong><br><img src="'+n+'" alt="alt text" loading="lazy"></p><p>一开始先用POSTMAN或者SOAPUI调用看看对方提供的接口是否能正常调通</p><h2 id="_3-po端接口配置步骤" tabindex="-1"><a class="header-anchor" href="#_3-po端接口配置步骤"><span>3.PO端接口配置步骤</span></a></h2><p><img src="'+o+'" alt="alt text" loading="lazy"><br> PO端配置完全后，去SAP SPROXY生成SI_SAP_OUT的代理，代码编写进行调用</p><h3 id="_3-1-esr-在软件组件下创建命名空间" tabindex="-1"><a class="header-anchor" href="#_3-1-esr-在软件组件下创建命名空间"><span>3.1 ESR-在软件组件下创建命名空间</span></a></h3><p><img src="'+p+'" alt="alt text" loading="lazy"><br><img src="'+c+'" alt="alt text" loading="lazy"></p><h3 id="_3-2-esr-在命名空间下创建接口对象-数据类型dt" tabindex="-1"><a class="header-anchor" href="#_3-2-esr-在命名空间下创建接口对象-数据类型dt"><span>3.2 ESR-在命名空间下创建接口对象-数据类型DT</span></a></h3><p><img src="'+m+'" alt="alt text" loading="lazy"><br><img src="'+g+'" alt="alt text" loading="lazy"></p><h3 id="_3-3-esr-在命名空间下创建接口对象-消息类型mt" tabindex="-1"><a class="header-anchor" href="#_3-3-esr-在命名空间下创建接口对象-消息类型mt"><span>3.3 ESR-在命名空间下创建接口对象-消息类型MT</span></a></h3><p>引用参考上面建的数据类型DT<br> 如果有WSDL文件，可以直接导入成外部定义ED类似这里的MT<br><img src="'+d+'" alt="alt text" loading="lazy"><br><img src="'+_+'" alt="alt text" loading="lazy"></p><h3 id="_3-4-esr-创建接口对象-服务接口si" tabindex="-1"><a class="header-anchor" href="#_3-4-esr-创建接口对象-服务接口si"><span>3.4 ESR-创建接口对象-服务接口SI</span></a></h3><p><img src="'+h+'" alt="alt text" loading="lazy"><br><img src="'+b+'" alt="alt text" loading="lazy"></p><h3 id="_3-5-esr-创建映射对象-消息映射mm" tabindex="-1"><a class="header-anchor" href="#_3-5-esr-创建映射对象-消息映射mm"><span>3.5 ESR-创建映射对象-消息映射MM</span></a></h3><p><img src="'+S+'" alt="alt text" loading="lazy"><br> 引用参考上面建的消息类型MT，创建两边对应的映射关系<br> 如果没有特殊的映射关系，直接一一对应两边拉一下<br><img src="'+y+'" alt="alt text" loading="lazy"></p><h3 id="_3-6-esr-创建映射对象-操作映射om" tabindex="-1"><a class="header-anchor" href="#_3-6-esr-创建映射对象-操作映射om"><span>3.6 ESR-创建映射对象-操作映射OM</span></a></h3><p><img src="'+x+'" alt="alt text" loading="lazy"><br> 四个地方，SI_OUT，SI_IN，MM_REQ，MM_RES。</p><h3 id="_3-7-id-创建通信通道cc-业务系统bs" tabindex="-1"><a class="header-anchor" href="#_3-7-id-创建通信通道cc-业务系统bs"><span>3.7 ID-创建通信通道CC-业务系统BS</span></a></h3><p>在对应的CC下面创建，比如我这里的SAP-S4DCLNT300<br><img src="'+f+'" alt="alt text" loading="lazy"></p><h3 id="_3-8-id-创建通信通道cc-业务组件bc" tabindex="-1"><a class="header-anchor" href="#_3-8-id-创建通信通道cc-业务组件bc"><span>3.8 ID-创建通信通道CC-业务组件BC</span></a></h3><p>在对应的CC下面创建，比如我这里的外围系统-BC_SRM<br><img src="'+u+'" alt="alt text" loading="lazy"><br> 适配器类型选择REST，选择Receiver<br><img src="'+C+'" alt="alt text" loading="lazy"><br> 在REST URL页签填写对应对方系统提供的接口地址<br><img src="'+T+'" alt="alt text" loading="lazy"><br> 在REST Operation页签填写对应对方系统提供的接口操作HTTP动词<br><img src="'+P+'" alt="alt text" loading="lazy"><br> 在DATA Format数据格式页签填写对应的传出传入数据格式和Custom XML/JSON Conversion Rules自定义数据转换格式<br> 传出XML-&gt;JSON（传出格式）<br><img src="'+R+'" alt="alt text" loading="lazy"><br> 传入JSON（传入格式）-&gt;XML<br><img src="'+z+'" alt="alt text" loading="lazy"><br> 自定义数据格式，这三个参数是数组<br><img src="'+M+'" alt="alt text" loading="lazy"></p><h3 id="_3-9-id-创建集成配置ic" tabindex="-1"><a class="header-anchor" href="#_3-9-id-创建集成配置ic"><span>3.9 ID-创建集成配置IC</span></a></h3><p><img src="'+O+'" alt="alt text" loading="lazy"><br><img src="'+A+'" alt="alt text" loading="lazy"><br><img src="'+D+'" alt="alt text" loading="lazy"><br><img src="'+E+'" alt="alt text" loading="lazy"><br><img src="'+I+'" alt="alt text" loading="lazy"></p><h3 id="_3-10-sap-proxy创建对应代理-测试" tabindex="-1"><a class="header-anchor" href="#_3-10-sap-proxy创建对应代理-测试"><span>3.10 SAP-PROXY创建对应代理，测试</span></a></h3><p>创建并激活<br><img src="'+B+'" alt="alt text" loading="lazy"><br> 测试<img src="'+v+'" alt="alt text" loading="lazy"><br><img src="'+k+'" alt="alt text" loading="lazy"><br><img src="'+L+'" alt="alt text" loading="lazy"><br> 替换成对方提供的测试传入报文<br><img src="'+N+'" alt="alt text" loading="lazy"><br><img src="'+X+'" alt="alt text" loading="lazy"></p><p>成功完结撒花☺️<br> 后面用的话就是调用这个代理类ZCO_SI_SAP_RETURN_OUT</p>',31))])}const w=a(V,[["render",U],["__file","porestful.html.vue"]]),q=JSON.parse('{"path":"/sap/abap/porestful.html","title":"SAP->外围系统调用外部RESTful接口","lang":"zh-CN","frontmatter":{"order":36,"date":"2025-09-09T00:00:00.000Z","pageInfo":["Author","PageView"],"category":["SAP"],"tag":["ABAP"],"permalink":"/sap/abap/porestful.html","head":[["meta",{"property":"og:url","content":"https://blog.ysf.cc/sap/abap/porestful.html"}],["meta",{"property":"og:site_name","content":"LeafinWind"}],["meta",{"property":"og:title","content":"SAP->外围系统调用外部RESTful接口"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-29T02:29:48.000Z"}],["meta",{"property":"article:author","content":"叶随风"}],["meta",{"property":"article:tag","content":"ABAP"}],["meta",{"property":"article:published_time","content":"2025-09-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-29T02:29:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SAP->外围系统调用外部RESTful接口\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-09-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-29T02:29:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"叶随风\\",\\"email\\":\\"504077806@qq.com\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.ysf.cc/atom.xml","title":"LeafinWind Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.ysf.cc/feed.json","title":"LeafinWind JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.ysf.cc/rss.xml","title":"LeafinWind RSS Feed"}]]},"headers":[{"level":2,"title":"1.名词解释","slug":"_1-名词解释","link":"#_1-名词解释","children":[]},{"level":2,"title":"2.通信概览图","slug":"_2-通信概览图","link":"#_2-通信概览图","children":[]},{"level":2,"title":"3.PO端接口配置步骤","slug":"_3-po端接口配置步骤","link":"#_3-po端接口配置步骤","children":[{"level":3,"title":"3.1 ESR-在软件组件下创建命名空间","slug":"_3-1-esr-在软件组件下创建命名空间","link":"#_3-1-esr-在软件组件下创建命名空间","children":[]},{"level":3,"title":"3.2 ESR-在命名空间下创建接口对象-数据类型DT","slug":"_3-2-esr-在命名空间下创建接口对象-数据类型dt","link":"#_3-2-esr-在命名空间下创建接口对象-数据类型dt","children":[]},{"level":3,"title":"3.3 ESR-在命名空间下创建接口对象-消息类型MT","slug":"_3-3-esr-在命名空间下创建接口对象-消息类型mt","link":"#_3-3-esr-在命名空间下创建接口对象-消息类型mt","children":[]},{"level":3,"title":"3.4 ESR-创建接口对象-服务接口SI","slug":"_3-4-esr-创建接口对象-服务接口si","link":"#_3-4-esr-创建接口对象-服务接口si","children":[]},{"level":3,"title":"3.5 ESR-创建映射对象-消息映射MM","slug":"_3-5-esr-创建映射对象-消息映射mm","link":"#_3-5-esr-创建映射对象-消息映射mm","children":[]},{"level":3,"title":"3.6 ESR-创建映射对象-操作映射OM","slug":"_3-6-esr-创建映射对象-操作映射om","link":"#_3-6-esr-创建映射对象-操作映射om","children":[]},{"level":3,"title":"3.7 ID-创建通信通道CC-业务系统BS","slug":"_3-7-id-创建通信通道cc-业务系统bs","link":"#_3-7-id-创建通信通道cc-业务系统bs","children":[]},{"level":3,"title":"3.8 ID-创建通信通道CC-业务组件BC","slug":"_3-8-id-创建通信通道cc-业务组件bc","link":"#_3-8-id-创建通信通道cc-业务组件bc","children":[]},{"level":3,"title":"3.9 ID-创建集成配置IC","slug":"_3-9-id-创建集成配置ic","link":"#_3-9-id-创建集成配置ic","children":[]},{"level":3,"title":"3.10 SAP-PROXY创建对应代理，测试","slug":"_3-10-sap-proxy创建对应代理-测试","link":"#_3-10-sap-proxy创建对应代理-测试","children":[]}]}],"git":{"createdTime":1757646908000,"updatedTime":1759112988000,"contributors":[{"name":"xuuub66","email":"504077806@qq.com","commits":2}]},"readingTime":{"minutes":3.14,"words":942},"filePathRelative":"sap/ABAP/36.PO调用外部RESTful接口.md","localizedDate":"2025年9月9日","excerpt":"\\n"}');export{w as comp,q as data};
