import{a as g}from"./index-Dq7h7Pqt.js";import{g as y,F as E,M as k,u as T,r as H,N as I,o as w,w as B,a as C}from"./app-RDSFbjX4.js";import{_ as b}from"./plugin-vue_export-helper-DlAUqK2U.js";const M=y({__name:"HeroHitokoto",setup(x,{expose:a}){a();let i="https://v1.hitokoto.cn";const m=t=>{const e=window;clearInterval(e.Timer);const c=document.getElementsByClassName("vp-blog-hero-description");if(c.length>0){const p=c[0];p.id="hotWord"}const o=document.getElementById("hotWord");if(!o)return;o.innerHTML=`
<div class="word">
  <div class="left">『</div>
    <span id="hitokoto_text"></span>
  <div class="right">』</div>
</div>
<div class="author" id="hitokoto_author"> ——「${t.from}」</div>
  `;const s=document.getElementById("hitokoto_author"),_=document.getElementById("hitokoto_text");if(!_||!s)return;s.style.opacity="0";const h=t.hitokoto.split("");let n=0,l=0,v=60,d=!1,u="";e.Timer=setInterval(()=>{const p=h[n];if(u.length<4?s.style.opacity="0":s.style.opacity="1",l!=0){l--,u.length==0&&l==0&&clearInterval(e.Timer);return}d?clearInterval(e.Timer):u+=p,d?n--:n++,n>=h.length&&(d=!0,n=h.length,l=v),n<0&&(d=!1,n=0,l=v),_.innerHTML=u},200)},r=t=>{let e=window.location.pathname;t&&(e=t);const c=["原神","崩坏","王者","网","少女"];e=="/"&&g({method:"get",url:i,params:{c:["g","d"]}}).then(o=>{if(o.data.from&&c.some(s=>o.data.from.includes(s))){r();return}m(o.data)}).catch(o=>{i="https://international.v1.hitokoto.cn",r()})};E(()=>{k(()=>{r()}),T().beforeEach(e=>{k(()=>{r(e.fullPath)})})});const f={get hitokotoUrl(){return i},set hitokotoUrl(t){i=t},InsertText:m,GetWord:r};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});function $(x,a,i,m,r,f){const t=H("ClientOnly");return w(),I(t,null,{default:B(()=>a[0]||(a[0]=[C("div",{class:"none"},"一言插件",-1)])),_:1,__:[0]})}const O=b(M,[["render",$],["__file","HeroHitokoto.vue"]]);export{O as default};
