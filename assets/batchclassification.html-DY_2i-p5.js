import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,e as l,o as h}from"./app-RDSFbjX4.js";const k={};function t(p,s){return h(),a("div",null,[n(" more "),s[0]||(s[0]=l(`<h1 id="创建物料批次和批次分类特性" tabindex="-1"><a class="header-anchor" href="#创建物料批次和批次分类特性"><span>创建物料批次和批次分类特性</span></a></h1><h3 id="相关事物代码和函数" tabindex="-1"><a class="header-anchor" href="#相关事物代码和函数"><span>相关事物代码和函数</span></a></h3><p>事物代码：</p><ul><li><p>MSC3N 显示批次</p></li><li><p>CL03 显示分类<br> 函数:<br> BAPI_BATCH_CREATE 批次创建<br> VB_BATCH_2_CLASS_OBJECT 批次分类相关信息获取<br><s>BAPI OBJCL CHANGE 分类特性创建用这个发现不行</s></p></li><li><p>BAPI_BATCH_SAVE_REPLICA 批次分类特性创建</p></li></ul><h3 id="代码示例" tabindex="-1"><a class="header-anchor" href="#代码示例"><span>代码示例</span></a></h3><div class="language-abap line-numbers-mode" data-highlighter="shiki" data-ext="abap" data-title="abap" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_BATCHATTRIBUTES</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPIBATCHATT.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MATERIAL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BAPIBATCHKEY-MATERIAL.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_RETURN</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	LIKE TABLE OF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	BAPIRET2.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*批次分类创建参数Z_BATCH 023</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: GS_BATCHATTRIBUTES_023 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPIBATCHATT,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_BATCHATTRIBUTESX_023</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPIBATCHATTX.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: GS_CLASSALLOCATIONS   </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPI3060_ALLOCATION,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GT_CLASSALLOCATIONS   </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE TABLE OF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BAPI3060_ALLOCATION,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPI3060_VALUATION_CHAR,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GT_CLASSVALUATIONSCHAR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE TABLE OF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BAPI3060_VALUATION_CHAR</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         .</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_RETURN023 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE TABLE OF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BAPIRET2.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MESSAGE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LIKE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  BAPIRET2-MESSAGE.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       CLEAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: GS_BATCHATTRIBUTES,GV_MATERIAL.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       GS_BATCHATTRIBUTES-COUNTRYORI </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;CN&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       GS_BATCHATTRIBUTES-PROD_DATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-HSDAT.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SINGLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> MHDHB </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">GV_MADHB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> MARA </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> MATNR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-MATNR.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       IF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MADHB </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IS</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INITIAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ES_RET-CODE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;E&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ES_RET-MSG </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-MATNR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;，请维护货架寿命&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ZJT-RFC-LOG-E IS_REQ ES_RET.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         RETURN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       ENDIF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       GS_BATCHATTRIBUTES-EXPIRYDATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_BATCHATTRIBUTES-PROD_DATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MADHB.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       GV_MATERIAL </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LS_KOMDLGN-MATNR.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       CALL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FUNCTION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;BAPI_BATCH_CREATE&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         EXPORTING</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           MATERIAL        </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MATERIAL</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          BATCH           =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           PLANT           </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LS_KOMDLGN-WERKS</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           BATCHATTRIBUTES </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_BATCHATTRIBUTES</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          BATCHCONTROLFIELDS         =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          BATCHSTORAGELOCATION       =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          INTERNALNUMBERCOM          =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          EXTENSION1      =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          MATERIAL_EVG    =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          MATERIAL_LONG   =</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         IMPORTING</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           BATCH           </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LS_KOMDLGN-CHARG</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*          BATCHATTRIBUTES =</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         TABLES</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           RETURN</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">          =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_RETURN.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       READ TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_RETURN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTO</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DATA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">GS_RETURN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WITH KEY TYPE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;S&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ID</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;12&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  NUMBER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;128&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;#EC CI_STDSEQ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       IF</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> SY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">SUBRC</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;批次创建成功</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         CALL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FUNCTION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;BAPI_TRANSACTION_COMMIT&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           EXPORTING</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">             WAIT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;X&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         .</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         WAIT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UP TO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;0.2&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SECONDS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         CLEAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:GS_BATCHATTRIBUTES_023,GS_BATCHATTRIBUTESX_023,GS_CLASSALLOCATIONS,GS_CLASSVALUATIONSCHAR.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         REFRESH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:GT_CLASSALLOCATIONS[],GT_CLASSVALUATIONSCHAR[],GT_RETURN023[].</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_BATCHATTRIBUTES_023-PROD_DATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-HSDAT.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_BATCHATTRIBUTESX_023-PROD_DATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;X&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSALLOCATIONS-CLASS_TYPE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;023&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSALLOCATIONS-OBJECTTABLE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;MCH1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSALLOCATIONS-CLASSNUM </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Z_BATCH&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSALLOCATIONS-CLASSTYPE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;023&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSALLOCATIONS-STANDARDCLASS </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;X&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         CALL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FUNCTION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;VB_BATCH_2_CLASS_OBJECT&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           EXPORTING</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             I_MATNR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-MATNR</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             I_CHARG </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LS_KOMDLGN-CHARG</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             I_WERKS </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-WERKS</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           IMPORTING</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             E_OBJEK </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_CLASSALLOCATIONS-OBJECTKEY_LONG</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            E_OBTAB =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            E_KLART =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            E_CLASS =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           .</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         APPEND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_CLASSALLOCATIONS</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_CLASSALLOCATIONS.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR-CLASS_TYPE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;023&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR-OBJECTTABLE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;MCH1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR-CHARACT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;LOBM_HSDAT&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR-VALUE_CHAR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &lt;FS_DATA&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-HSDAT.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         GS_CLASSVALUATIONSCHAR-OBJECTKEY_LONG </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_CLASSALLOCATIONS-OBJECTKEY_LONG.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         APPEND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_CLASSVALUATIONSCHAR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_CLASSVALUATIONSCHAR.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         CALL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FUNCTION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;BAPI_BATCH_SAVE_REPLICA&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> &quot;创建物料批次分类</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           EXPORTING</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             MATERIAL            </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GV_MATERIAL</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             BATCH               </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LS_KOMDLGN-CHARG</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            PLANT               =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             BATCHATTRIBUTES     </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_BATCHATTRIBUTES_023</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             BATCHATTRIBUTESX    </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GS_BATCHATTRIBUTESX_023</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            BATCHSTATUS         =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            BATCHSTATUSX        =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            BATCHCONTROLFIELDS  =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            BATCHSTORAGELOCATION       =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            INTERNALNUMBERCOM   =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            EXTENSION1          =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            MATERIAL_EVG        =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            MATERIAL_LONG       =</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           TABLES</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">             RETURN</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_RETURN023[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             CLASSALLOCATIONS    </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_CLASSALLOCATIONS[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             CLASSVALUATIONSCHAR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> GT_CLASSVALUATIONSCHAR[]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            CLASSVALUATIONSCURR =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">*            CLASSVALUATIONSNUM  =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       ELSE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">. </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;批次创建失败</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         CALL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FUNCTION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;BAPI_TRANSACTION_ROLLBACK&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ES_RET-CODE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;E&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ES_RET-MSG </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> |</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">批次创建失败，错误:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">{ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">GS_RETURN-TYPE</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> }</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">{ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">GS_RETURN-ID</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> }</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Number:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">{ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">GS_RETURN-NUMBER</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> }</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 消息:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">{ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">GS_RETURN-MESSAGE</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> }|</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ZJT-RFC-LOG-E IS_REQ ES_RET.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         RETURN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">       ENDIF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6))])}const d=i(k,[["render",t],["__file","batchclassification.html.vue"]]),r=JSON.parse('{"path":"/sap/abap/batchclassification.html","title":"创建物料批次和批次分类特性","lang":"zh-CN","frontmatter":{"title":"创建物料批次和批次分类特性","order":42,"date":"2025-12-04T00:00:00.000Z","permalink":"/sap/abap/batchclassification.html","head":[["meta",{"property":"og:url","content":"https://blog.ysf.cc/sap/abap/batchclassification.html"}],["meta",{"property":"og:site_name","content":"LeafinWind"}],["meta",{"property":"og:title","content":"创建物料批次和批次分类特性"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-09T01:59:58.000Z"}],["meta",{"property":"article:author","content":"叶随风"}],["meta",{"property":"article:published_time","content":"2025-12-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-09T01:59:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"创建物料批次和批次分类特性\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-12-04T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-09T01:59:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"叶随风\\",\\"email\\":\\"504077806@qq.com\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.ysf.cc/atom.xml","title":"LeafinWind Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.ysf.cc/feed.json","title":"LeafinWind JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.ysf.cc/rss.xml","title":"LeafinWind RSS Feed"}]]},"headers":[{"level":3,"title":"相关事物代码和函数","slug":"相关事物代码和函数","link":"#相关事物代码和函数","children":[]},{"level":3,"title":"代码示例","slug":"代码示例","link":"#代码示例","children":[]}],"git":{"createdTime":1765245598000,"updatedTime":1765245598000,"contributors":[{"name":"xuuub66","email":"504077806@qq.com","commits":1}]},"readingTime":{"minutes":1.57,"words":471},"filePathRelative":"sap/ABAP/42.创建物料批次和批次分类特性.md","localizedDate":"2025年12月4日","excerpt":""}');export{d as comp,r as data};
